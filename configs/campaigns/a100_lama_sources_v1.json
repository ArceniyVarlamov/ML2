{
  "name": "a100_lama_sources_v1",
  "description": "LightAutoML source runner (OOF/test export) campaign.",
  "workdir": "../..",
  "log_dir": "artifacts_campaigns/a100_lama_sources_v1",
  "env": {"OMP_NUM_THREADS": "8", "MKL_NUM_THREADS": "8", "NUMEXPR_NUM_THREADS": "8"},
  "tasks": [
    {
      "id": "lama_write_meta",
      "cmd": "./.venv/bin/python scripts/lama_source.py --config configs/lama/top1_a100_hlama_v1.json write-meta",
      "done_if_all_exist": ["artifacts_hlama_a100_v1/meta/columns.json", "artifacts_hlama_a100_v1/meta/fold_ids.npy"]
    },
    {
      "id": "lama_run_bases",
      "cmd": "./.venv/bin/python scripts/lama_source.py --config configs/lama/top1_a100_hlama_v1.json run-bases",
      "done_if_all_exist": ["artifacts_hlama_a100_v1/base/lama_oof.parquet", "artifacts_hlama_a100_v1/scores/lama_scores.json"]
    },
    {
      "id": "lama_blend",
      "cmd": "./.venv/bin/python scripts/lama_source.py --config configs/lama/top1_a100_hlama_v1.json blend --models lama",
      "done_if_all_exist": ["artifacts_hlama_a100_v1/ensemble/blend_oof.parquet", "artifacts_hlama_a100_v1/scores/blend_scores.json"]
    }
  ]
}
